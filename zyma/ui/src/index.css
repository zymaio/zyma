/* 基础布局锁定 */
:root {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", system-ui, "Ubuntu", "Droid Sans", sans-serif;
  line-height: 1.5;
  --ui-font-size: 13px;
  font-size: var(--ui-font-size);
}

html, body, #root {
  height: 100vh;
  width: 100vw;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: var(--bg-editor); /* 强制底层背景不透明 */
}

.app-root {
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
  background-color: var(--bg-editor);
  color: var(--text-primary);
}

/* --- 核心主题：深色 (Tokyo Night) --- */
.theme-dark {
  --bg-editor: #1a1b26;
  --bg-sidebar: #16161e;
  --bg-activity: #16161e;
  --bg-status: #1a1b26;
  --bg-tabs: #16161e;
  --bg-active-tab: #1a1b26;
  --bg-dropdown: #1e1e2e; /* 弹窗背景 */
  --input-bg: #1a1b26;
  --input-border: #24283b;
  
  --text-primary: #e0e6f8;
  --text-main: #e0e6f8;
  --text-secondary: #9499b8;
  --text-muted: #565f89;
  --text-active: #7aa2f7;
  
  --border-color: #24283b;
  --accent-color: #7aa2f7;
  --accent-foreground: #ffffff;
  --active-bg: #292e42;
  --overlay-bg: rgba(0, 0, 0, 0.6);
  --shadow-main: 0 8px 32px rgba(0, 0, 0, 0.5);
  --status-error: #f7768e;
  --status-warning: #e0af68;
  --status-success: #9ccc65;
  --text-on-error: #ffffff;

  /* 语法高亮 (Tokyo Night) */
  --syn-keyword: #bb9af7;
  --syn-operator: #89ddff;
  --syn-string: #9ece6a;
  --syn-comment: #565f89;
  --syn-variable: #e0af68;
  --syn-number: #ff9e64;
  --syn-type: #2ac3de;
  --syn-className: #7aa2f7;
  --syn-builtin: #7dcfff;
  --syn-tag: #f7768e;
  --syn-attr: #bb9af7;
  --syn-regex: #b4f9f8;
  --syn-md-heading: #7aa2f7;
  --syn-md-bold: #ff9e64;
  --syn-md-link: #73daca;
  --bg-active-line: rgba(41, 46, 66, 0.35);
}

/* --- 核心主题：深渊 (Abyss Gold) --- */
.theme-abyss {
  --bg-editor: #000000;
  --bg-sidebar: #060621;
  --bg-activity: #051336;
  --bg-status: #10192c;
  --bg-tabs: #1c1c2a;
  --bg-active-tab: #000000;
  --bg-dropdown: #051336; /* 弹窗背景 */
  --input-bg: #000000;
  --input-border: #1d4a87;
  
  --text-primary: #ffffff;
  --text-main: #ffffff;
  --text-secondary: #ccddff;
  --text-muted: #6272a4;
  --text-active: #ffffff;
  
  --border-color: #1a1a3a;
  --accent-color: #E3B341;
  --accent-foreground: #000000;
  --active-bg: #08286b;
  --overlay-bg: rgba(0, 12, 24, 0.85);
  --shadow-main: 0 8px 32px rgba(0, 0, 0, 0.8);
  --status-error: #ff5555;
  --status-warning: #ffb86c;
  --status-success: #50fa7b;
  --text-on-error: #ffffff;

  /* 语法高亮 (Abyss Gold) */
  --syn-keyword: #E3B341;
  --syn-operator: #ffffff;
  --syn-string: #90ee90;
  --syn-comment: #6272a4;
  --syn-variable: #ccddff;
  --syn-number: #bd93f9;
  --syn-type: #8be9fd;
  --syn-className: #50fa7b;
  --syn-builtin: #ffb86c;
  --syn-tag: #ff79c6;
  --syn-attr: #E3B341;
  --syn-regex: #f1fa8c;
  --syn-md-heading: #E3B341;
  --syn-md-bold: #ffb86c;
  --syn-md-link: #8be9fd;
  --bg-active-line: rgba(8, 40, 107, 0.3);
}

/* --- 核心主题：亮色 --- */
.theme-light {
  --bg-editor: #ffffff;
  --bg-sidebar: #f6f8fa;
  --bg-activity: #f6f8fa;
  --bg-status: #f6f8fa;
  --bg-tabs: #f6f8fa;
  --bg-active-tab: #ffffff;
  --bg-dropdown: #ffffff;
  --input-bg: #ffffff;
  --input-border: #d0d7de;
  
  --text-primary: #24292f;
  --text-main: #24292f;
  --text-secondary: #57606a;
  --text-muted: #6e7781;
  --text-active: #0969da;
  
  --border-color: #d0d7de;
  --accent-color: #0969da;
  --accent-foreground: #ffffff;
  --active-bg: #eaeff4;
  --overlay-bg: rgba(255, 255, 255, 0.5);
  --shadow-main: 0 8px 32px rgba(0, 0, 0, 0.1);
  --status-error: #cf222e;
  --status-warning: #9a6700;
  --status-success: #1a7f37;
  --text-on-error: #ffffff;

  /* 语法高亮 (Light) */
  --syn-keyword: #cf222e;
  --syn-operator: #0550ae;
  --syn-string: #0a3069;
  --syn-comment: #6e7781;
  --syn-variable: #953800;
  --syn-number: #0550ae;
  --syn-type: #116329;
  --syn-className: #8250df;
  --syn-builtin: #0550ae;
  --syn-tag: #116329;
  --syn-attr: #cf222e;
  --syn-regex: #0a3069;
  --syn-md-heading: #0550ae;
  --syn-md-bold: #953800;
  --syn-md-link: #0969da;
  --bg-active-line: rgba(234, 239, 244, 0.5);
}

/* 样式隔离：仅在 IDE 根容器内生效 */
.app-root * { color: inherit; }
.app-root select, .app-root input { font-family: inherit; }
